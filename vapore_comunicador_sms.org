* Comunicador Vapore SMS - base kirno_redonda
** Funcionamiento
   - recibe SMS y prende una salida de 12V durante 2 segundos

** Respecto de kirno_redonda le quito todo lo que no uso, paso a paso
*** DONE Quito paho mqtt
    CLOSED: [2020-05-21 Thu 12:48]
    - quito todos los archivos lib
    - quito lib del Makefile

*** DONE Quito modulo ESP8266
    CLOSED: [2020-05-21 Thu 14:18]
    - quito archivos
    - quito source en el Makefile
    - el modulo sim900_800 lo llama, usa la funcion ESPPreParser2
    - paso eso funcionalidad al modulo funcs_gsm, la llamo FuncsGSMParser

*** DONE Quito modulo gps_vktel
    CLOSED: [2020-05-21 Thu 13:53]
    - quito archivos
    - quito source en el Makefile

*** DONE Quito modulo synchro
    CLOSED: [2020-05-21 Thu 13:50]
    - quito archivos
    - quito include del main
    - quito source en el Makefile

*** DONE Quito modulo tcp_transceiver
    CLOSED: [2020-05-21 Thu 13:47]
    - quito archivos
    - quito include del main
    - quito source en el Makefile

*** DONE Quito libs utils.h y constants.h
    CLOSED: [2020-05-21 Thu 13:44]

*** Quito modulo adc y dma
    - No quito estos modulos, simplemente no llamo a estas funciones
    - quito variables externas del main y le quito los headers
    - estos modulos en general son de uso comun a varios proyectos

** Cambios al main
*** quito variables de filtros
*** quito variables del adc, quito headers
*** quito reports airplane mode
    - quito tambien opciones en el hard.h

** Renombrar pines hard.h

** DONE Dejar uart1 siempre conectado al GSM
   CLOSED: [2020-05-24 Sun 11:12]

** Tiene una forma de manejo medio fea con los SMS
   - en vez de leerlos de a uno y contestar con origin number y payload
     lee todos juntos y va cargando flags, entonces con varios mensajes 
     no se conoce el origin

   - cuando mando un ok sale desde la mitad de la pila de lectura SMS

** Si el gsm esta prendido y se resetea el micro (programcion)
   - en vez de prender apaga el modulo NORMAL POWER DOWN

** A veces quedan como trabados los SMS y luego aparecen todos juntos
   - no se si es el micro q no dio bola (NO CREO)
   - el SIM800 que no aviso y se lo podría interrogar cada 10segs
   - o es la red que no se los habia enviado al SIM800 y luego le manda todo junto

** Si llega un +CMTI mientras lee SMS, puede confundir el valor de GSMCantSMS
   - no lo vi pasar nunca pero podria!!!


** TODO Agregar medidor de señal
** DONE Agregar low voltage
   CLOSED: [2020-06-11 Thu 14:17]
   - no se puede, V_Sense se reutiliza

** DONE quitar OK
   CLOSED: [2020-06-11 Thu 15:14]
** DONE Avisar si prende salida
   CLOSED: [2020-06-11 Thu 15:14]
* GSM Gateway
** Comandos
   - Los envio todos con CTRL+J desde minicom
   ATE0    # elimina el echo
   
   AT+CSQ    # muestra RSSI, BER

   AT+COPS?    # muestra el operador de la red "CTI Movil"

   AT+CREG?    # +CREG: 0,1    1 home network

   AT+GSN    # contesta el IMEI que identifica el celular

   AT+CIMI    # contesta el IMSI que identifica a la SIM

   # PIN y PUK son codigos de bloqueos para llamadas desde la SIM

   AT+CMGL    # da la lista de mensajes desde la memoria

   AT+CMGL,"REC UNREAD",1    #lista de mensajes no leidos, no cambia el estado




* Migrar programa y herramientas de STM32F051 -> STM32G030
** DONE Actualizar version OpenOCD
   CLOSED: [2020-09-04 Fri 17:18]

** DONE Archivos de configuracion de OpenOCD
   CLOSED: [2020-09-12 Sat 10:19]
*** DONE reset.cfg
    CLOSED: [2020-09-04 Fri 17:21]
*** gdb.cfg
*** flash.cfg
*** flash_lock.cfg

** DONE Makefile
   CLOSED: [2020-09-12 Sat 07:59]
*** Nombre archivo salida

** TODO cambiar memoria a 64k
** TODO cambiar pagina de bkp de 15 a 31 (por la mayor memoria)

** DONE Migrar CMSIS_CORE
   CLOSED: [2020-09-12 Sat 08:53]
*** quitar todos los .h sobrantes
    - Dejo solo 5 archivos
    - ademas en redpill dejo todos los archivos de la familia

** DONE Migrar CMSIS_BOOT
   CLOSED: [2020-09-12 Sat 08:53]
*** quitar archivos .h sobrantes
    - Dejo solo 2
    - ademas en redpill dejo todos los archivos de la familia

*** quitar archivos .s sobrantes
    - Dejo solo un .s y el linker
    - ademas en redpill dejo todos los archivos de la familia


** DONE Migrar Modulos [11/11]
   CLOSED: [2020-09-12 Sat 10:19]
   - [X] adc.c
   - [X] dma.c
   - [X] flash_program.c
   - [X] gpio.c
   - [X] hard.h
   - [X] it.c    ;;nothing to be done in here
   - [X] test_functions.c    ;;just copy this module
   - [X] tests.c    ;;just copy this module
   - [X] tim.c
   - [X] usart.c
   - [X] main.c


* TODO Ultimas Mejoras al programa antes de produccion
** DONE Configurar Gpios
   CLOSED: [2020-09-12 Sat 13:03]
** DONE Armar Tests de Hardware
   CLOSED: [2020-09-14 Mon 09:04]
** DONE Posibilidad de armar GSM Gateway en el programa principal
   CLOSED: [2020-09-14 Mon 09:04]

** TODO Modificar memoria bkp cuando este disponible placa/micro

* Placa nueva ver1.0
** mejorar algunos strings
** no dice version en placa
** la tension del regulador 3.3V es mas baja porque sale de 4V
   - 3.15V

** Las seniales estan bien
   se quemo el pin del micro al led, habra que investigar...
